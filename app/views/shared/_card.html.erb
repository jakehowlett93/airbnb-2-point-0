<div class="card-container">

  <div class="card-image-container">
    <img src="https://source.unsplash.com/random?sig=<%= index %>/&appartment" alt="" class="card-image">
  </div>

  <div class="card-contents">

    <div class="card-badges">
      <% if property.has_internet  %>
      <p class="card-badge">
        WIFI
      </p>
      <% end %>
      <p class="card-supertitle"><%= property.total_bedrooms %> BEDS Â· <%= property.total_bathrooms %> BATHS</p>
      <div class="card-heart-icon-container">
        <button type="button" class="confetti-button"></button>
      </div>
    </div>

    <h2 class='card-title'><%= property.name %></h2>
    <p class='card-subtitle'><%= property.address %></p>

    <a><%= link_to "View property", property_path(property) %></a>

  </div>
</div>

<script>
  var animateButton = function(e) {

    e.preventDefault;
  //reset animation
  e.target.classList.remove('animate');

  e.target.classList.add('animate');
  setTimeout(function(){
    e.target.classList.remove('animate');
  },700);
};

var classname = document.getElementsByClassName("confetti-button");

for (var i = 0; i < classname.length; i++) {
  classname[i].addEventListener('click', animateButton, false);
}
</script>
